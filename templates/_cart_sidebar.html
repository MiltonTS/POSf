<div class="card mb-3">
  <div class="card-header">Cart</div>
  <div class="card-body p-2">
    {% if cart_items %}
    <ul class="list-unstyled">
      {% for item in cart_items %}
      <li class="mb-2">
        <form method="post" action="{{ url_for('pos.update_cart', product_id=item.product.id) }}" class="d-flex align-items-center gap-1">
          <strong class="flex-grow-1">{{ item.product.name }}</strong>
          <input type="number" name="qty" value="{{ item.qty }}" min="1" class="form-control form-control-sm w-25">
          <input type="number" step="0.01" name="price" value="{{ '%.2f'|format(item.price) }}" class="form-control form-control-sm w-25">
          <input type="hidden" name="next" value="{{ request.path }}">
          <button class="btn btn-sm btn-secondary">â†»</button>
        </form>
      </li>
      {% endfor %}
    </ul>
    <div class="text-end fw-bold">Total: {{ '%.2f'|format(cart_total) }}</div>
    <form method="post" action="{{ url_for('pos.checkout') }}" class="mt-2">
      <button class="btn btn-sm btn-primary w-100">Checkout</button>
    </form>
    {% else %}
    <p class="text-muted mb-0">Cart is empty.</p>
    {% endif %}
  </div>
</div>
